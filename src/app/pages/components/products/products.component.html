<!-- Main section wrapper for the products component -->
<section class="products-section">
  <div class="container1">
    <div class="d-flex justify-content-between align-items-center ">
      <div class="title">
        <!-- Title of the section -->
        <p>Popular Items</p>
      </div>
      <nav class="main-nav">
        <ul>
          <li><a href="#">Home</a></li>
          <li><a href="#">All Category</a></li>
          <li><a href="#">About</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
      </nav>
    </div>


    <!-- Container for all product cards -->
    <div class="cards">
      <!-- Looping through the products array to create a card for each product -->
      <div class="product-card" *ngFor="let product of products">
        <!-- Image container with a hover effect -->
        <div class="image-container">
          <img [src]="product.image" alt="product-image" class="product-image">
          <div class="image-hover">
            <p>{{product.rating.count}} reviews</p>
          </div>
        </div>

        <!-- Container for product name and price, using flexbox for layout -->
        <div class="product-details">
          <h3 class="product-name">
            {{product.title}}
          </h3>
          
          <p class="product-price">
            {{"$"+product.price}}
          </p>
        </div>

        <!-- Container for the rating stars and the buy button, using flexbox -->
        <div class="rating-and-buy">
          <!-- Rating stars -->
          <div class="rating">
            <span class="d-inline" *ngFor="let item of [1,2,3,4,5]">
              <!-- Solid star for full rating -->
              <i class="fa-solid fa-star rate-icon" *ngIf="product.rating.rate >= item"></i>
              <!-- Half star for partial rating -->
              <i class="fa-solid fa-star-half-stroke rate-icon"
                *ngIf="product.rating.rate < item && ((1-(item-product.rating.rate)>=0.5)&&(1-(item-product.rating.rate)<1))"></i>
              <!-- Empty star for no rating -->
              <i class="fa-regular fa-star rate-icon"
                *ngIf="product.rating.rate < item && ((1-(item-product.rating.rate)<.5)||(item-product.rating.rate>1))"></i>
            </span>
          </div>
          <!-- Buy button -->
          <button class="icon-btn">
            <svg width="16" height="18" viewBox="0 0 16 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M5.625 3.9375V5.625H10.125V3.9375C10.1016 3.30469 9.87891 2.77734 9.45703 2.35547C9.03516 1.93359 8.50781 1.71094 7.875 1.6875C7.24219 1.71094 6.71484 1.93359 6.29297 2.35547C5.87109 2.77734 5.64844 3.30469 5.625 3.9375ZM3.9375 7.3125H1.6875V14.625C1.71094 15.0938 1.875 15.4922 2.17969 15.8203C2.50781 16.125 2.90625 16.2891 3.375 16.3125H12.375C12.8438 16.2891 13.2422 16.125 13.5703 15.8203C13.875 15.4922 14.0391 15.0938 14.0625 14.625V7.3125H11.8125V9.28125C11.7656 9.79688 11.4844 10.0781 10.9688 10.125C10.4531 10.0781 10.1719 9.79688 10.125 9.28125V7.3125H5.625V9.28125C5.57812 9.79688 5.29688 10.0781 4.78125 10.125C4.26562 10.0781 3.98438 9.79688 3.9375 9.28125V7.3125ZM3.9375 5.625V3.9375C3.96094 2.8125 4.34766 1.88672 5.09766 1.16016C5.82422 0.410156 6.75 0.0234375 7.875 0C9 0.0234375 9.92578 0.410156 10.6523 1.16016C11.4023 1.88672 11.7891 2.8125 11.8125 3.9375V5.625H14.0625C14.5312 5.64844 14.9297 5.8125 15.2578 6.11719C15.5625 6.44531 15.7266 6.84375 15.75 7.3125V14.625C15.7266 15.5859 15.3984 16.3828 14.7656 17.0156C14.1328 17.6484 13.3359 17.9766 12.375 18H3.375C2.41406 17.9766 1.61719 17.6484 0.984375 17.0156C0.351562 16.3828 0.0234375 15.5859 0 14.625V7.3125C0.0234375 6.84375 0.1875 6.44531 0.492188 6.11719C0.820312 5.8125 1.21875 5.64844 1.6875 5.625H3.9375Z"
                fill="white" />
            </svg>

          </button>
        </div>
      </div>
    </div>
  </div>
</section>
